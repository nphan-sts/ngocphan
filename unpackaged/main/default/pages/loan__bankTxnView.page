<apex:page lightningStylesheets="true" standardController="loan__Loan_Account__c" showHeader="true" tabStyle="loan__Loan_Account__c" extensions="loan.BankTxnViewController">
<apex:include pageName="clcommon__mintTheme"/>

    <style>
    .pbBody .pbSubsection  .column20{
        width : 20%;
    }
    .pbBody .pbSubsection .column80{
        width : 80%;
    }
    
    </style>
    
    <apex:outputPanel id="YodleBankTxsForm">
    <apex:form >
    <apex:pageBlock title="Bank Transactions">
        <apex:pagemessages />
        <apex:pageblockButtons >
        
        </apex:pageblockButtons>
        <apex:pageblocksection title="Details" columns="1" collapsible="false">
        <!--  <c:PageBlockTableEnhancerADV targetPbTableIds="pbt"  pageSizeOptions="5,10,15,30" defaultPageSize="5" enableExport="false"/>  -->                 
         <!--  <c:PageBlockTableEnhancerADV targetPbTableIds="pbtTxns"  pageSizeOptions="5,10,15,30" defaultPageSize="4" enableExport="true"/>  -->  
           <apex:pageblockTable value="{!allBankTnxs}" var="yCall" id="pbt" columnClasses="column20,column80">
                <apex:column headerValue="Yodlee Call"  style="font-weight:bold">
                    <apex:outputText value="{0,date,MM'/'dd'/'yyyy}"> 
                        <apex:param value="{!yCall.call.ints__From_Date__c}" /> 
                    </apex:outputText> -
                    <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                        <apex:param value="{!yCall.call.ints__To_Date__c}"/> 
                    </apex:outputText>
                </apex:column>
                <apex:column headerValue="Transactions">
                    <apex:pageblock >
                            <apex:pageblockbuttons location="top">
                                <apex:commandButton value="First Page" rerender="YodleBankTxsForm" action="{!yCall.FirstPage}" disabled="{!yCall.prev}"/>
                                <apex:commandButton value="<< Previous" rerender="YodleBankTxsForm" action="{!yCall.previous}" disabled="{!yCall.prev}"/>
                                <apex:commandButton value="Next >>" rerender="YodleBankTxsForm" action="{!yCall.next}" disabled="{!yCall.nxt}"/>
                                <apex:commandButton value="Last Page" rerender="YodleBankTxsForm" action="{!yCall.LastPage}" disabled="{!yCall.nxt}"/>
                            </apex:pageblockbuttons>
                     <apex:pageblockSection title="Transactions" columns="1">      
                     <apex:pageblocktable value="{!yCall.ytList}" var="txn" id="pbtTxns" width="100%">
                            <apex:column value="{!txn.Name}"/>
                            <apex:column value="{!txn.ints__Transaction_Base_Type__c}"/>
                            <apex:column value="{!txn.ints__Transaction_Category__c}"/>
                            <apex:column value="{!txn.ints__Transaction_Amount__c}"/>      
                            <apex:column value="{!txn.ints__Transaction_Post_Date__c}"/>      
                            <apex:column value="{!txn.ints__Transaction_Description__c}"/>
                       </apex:pageblocktable>
                        </apex:pageblockSection>
                     </apex:pageblock>     
                </apex:column>
            </apex:pageblockTable>
        </apex:pageblocksection>    
    </apex:pageBlock>
  </apex:form>
  </apex:outputPanel>
</apex:page>