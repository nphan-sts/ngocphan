<apex:page lightningStylesheets="{!$User.UIThemeDisplayed == 'Theme4d'}" standardController="loan__Floating_Rate_Index__c" id="floatingRateIndexPage" recordSetVar="floatingRateIndexSet" tabStyle="Organization_Preference__tab">
<apex:include pageName="clcommon__mintTheme"/>

    <apex:form >
        <apex:sectionHeader title="Floating Rate Indexes" />
        <apex:pageblock id="floatingRateIndexList">
            <apex:actionRegion >
                <apex:outputText value="Records per page "></apex:outputText>
                <apex:selectList value="{!pagesize}" size="1">
                    <apex:selectOption itemLabel="5" itemValue="5"></apex:selectOption>
                    <apex:selectOption itemLabel="10" itemValue="10"></apex:selectOption>
                    <apex:selectOption itemLabel="15" itemValue="15"></apex:selectOption>
                    <apex:selectOption itemLabel="20" itemValue="20"></apex:selectOption>
                    <apex:actionSupport event="onchange" rerender="floatingRateIndexTable, navigation" />
                </apex:selectList>
            </apex:actionRegion>

            <apex:pageblockTable value="{!floatingRateIndexSet}" id="floatingRateIndexTable" var="FRI">
                <apex:column headerValue="Index Name">
                    <apex:commandLink value="{!FRI.Name}"
                                      reRender="floatingRateIndexPage:floatingRateIndexDetail"
                                      status="indexChange">
                        <apex:param name="floatingRateIndex" value="{!FRI.Id}" />
                    </apex:commandLink>
                </apex:column>
                <apex:column value="{!FRI.loan__Description__c}" />
                <apex:column value="{!FRI.loan__Active__c}" />
            </apex:pageblockTable>

            <apex:panelGrid columns="2" id="navigation">
                <apex:commandLink action="{!previous}" rendered="{!hasPrevious}"> Previous </apex:commandLink>
                <apex:commandLink action="{!next}" rendered="{!hasNext}"> Next </apex:commandLink>
            </apex:panelGrid>

        </apex:pageblock>

        <center>
            <apex:actionStatus id="indexChange">
                <apex:facet name="start">
                    <img src="/img/loading32.gif" />
                </apex:facet>
            </apex:actionStatus>
        </center>

    </apex:form>

    <apex:outputPanel id="floatingRateIndexDetail" layout="block">
        <apex:detail subject="{!$CurrentPage.parameters.floatingRateIndex}" inlineEdit="false"></apex:detail>
    </apex:outputPanel>

    <apex:sectionHeader title="Define a New Floating Rate Index" />
    <table>
        <tr><td><br/>
            <apex:outputLink value="{!URLFOR($Action.loan__Floating_Rate_Index__c.New)}">Define New Floating Rate Index</apex:outputLink>
        </td></tr>
    </table>

</apex:page>