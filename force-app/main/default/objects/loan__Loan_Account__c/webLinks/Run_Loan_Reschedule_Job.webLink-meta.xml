<?xml version="1.0" encoding="UTF-8"?>
<WebLink xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Run_Loan_Reschedule_Job</fullName>
    <availability>online</availability>
    <description>This button is to run reschedule job for all selected records</description>
    <displayType>massActionButton</displayType>
    <linkType>javascript</linkType>
    <masterLabel>Run Loan Reschedule Job</masterLabel>
    <openType>onClickJavaScript</openType>
    <protected>false</protected>
    <requireRowSelection>true</requireRowSelection>
    <url>{!REQUIRESCRIPT(&quot;/soap/ajax/15.0/connection.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/15.0/apex.js&quot;)}

var url = parent.location.href;
var records = {!GETRECORDIDS($ObjectType.loan__Loan_Account__c)};

var r = confirm(&quot;Are you sure want to run Reschedule Job?&quot;);
if(r == true){
if (records[0] == null) {
   alert(&quot;Please select at least one record to update.&quot;);
} else {
   sforce.apex.execute(&quot;LoanRescheduleJob&quot;,&quot;runRescheduleJob&quot;,{LoanId : records } );
parent.location.href = url; //refresh the page
}
}</url>
</WebLink>
